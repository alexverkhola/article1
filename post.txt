				Stm32 hello world

Вступление, приветствие ……

	  Здравствуй мой читатель. В этой статье я собрал пошаговое руководство по установке и настройке ПО
	для работы с платами на базе микроконтроллеров семейства STM32. Мы установим весь необходимый софт,
	разберёмся что для чего нужно, и что за что отвечает, напишем простенькую программу мигания
	светодиодом, превратим её в бинарный файл и запишем на нашу плату.
	


Фото и описание оборудования ……..
	  Для начала давайте рассмотрим минимальный комплект оборудования необходимый для работы.  
	Нам нужна плата с микроконтроллером STM32. Я буду работать с самой простой и дешёвой платой bluepill, 
	хотя Вы можете использовать любую другую плату. Также нам нужно устройство для прошивки платы. 
	Это может быть либо специальный ST-Link программатор, либо USART кабель. Ну и по желанию кабель 
	USB — MicroUSB. Вот и весь минимальный набор оборудования. 




Установка софта ……….
	  Устанавливать всё необходимое ПО я буду на чистый Linux Lite 18.04, хотя всё должно работать
	и на других Linux подобных системах. Для того что бы всё правильно установилось, собралось и
	запустилось мы будем устанавливать утилиты только из официального apt репозитория, следовательно
	его нужно сначала обновить:
	$ sudo apt update

	Далее установим на наш компьютер git:
	$ sudo apt install git make
    с установкой этой программы у вас не должно возникнуть вообще никаких проблем, но я хочу напомнить,
	что утилита git служит для управления версиями проектов, сегодня мы будем использовать её для
	клонирования библиотеки libopencm3 с официального репозитория на сайте github.com. 
	
	  Следующий на очереди у нас toolchain, его мы также установим с официального репозитория, но сначала
	давайте разберёмся зачем нужен этот инструмент. Если в двух словах то это компилятор. Но это очень
	обобщённое определение. На самом деле toolchain представляет из себя целую цепочку инструментов,
	не зря он так и называется tool (инструмент) и chain (цепь). Toolchain преобразовывает исходный код 
	программы, в нашем случае написанный на языке C, в бинарный файл, который будет  понятен только
	микроконтроллеру. Во время работы toolchain создаёт и другие файлы необходимые для работы программы,
	в частности это файлы с расширениями .hex, .elf и .ld, о которых мы поговорим позже. Хочу обратить
	особое внимание на то, что версия toolchain из официального apt репозитория без проблем будет работать
	с описываемым мною примером, но для работы с операционными системами реального времени RTOS или RIOT
	нужно будет установить более новую версию toolchain. И так, само слово toolchain обобщительное,
	существует много различных toolchain-ов, но именно нам нужен gcc-arm-none-eabi. Такое длинное название
	состоит из четырёх ключевых слов:
	gcc — название компилятора;
	arm — архитектура процессора под который собираем бинарник;
	none — компилятор не вносит дополнительного bootstrap кода;
	eabi — код соответствует спецификации EABI.
    Устанавливаем toolchain:
	
	$ sudo apt install gcc-arm-none-eabi



    Подключение к микроконтроллеру………….

      В принципе мы уже установили минимальный набор инструментов для разработки ПО под микроконтроллеры ARM.
	Но нам ещё нужны средства для прошивки самого микроконтроллера. Мы рассмотрим два варианта : подключение
	с помощью UART, и ST-LINK. 
	Самым простым способом, который будет работать абсолютно на всех платах является UART, но более удобный
	способ конечно же ST-LINK.
	  UART — universal asynchronous reciever/transmitter. Или в переводе на русский: универсальный асинхронный
	приёмник/передатчик. Смысл работы довольно прост — приёмник компьютера соединяется с передатчиком платы,
	а приёмник платы соединяется с передатчиком компьютера, на плату подаётся питание и земля. Итого четыре
	провода. Современный UART кабель и схема его подключения выглядит так: 
    Цветовая схема проводов на Вашем кабеле может отличаться. 
	  Пришло время поговорить о питании плат с микропроцессорами STM32. Для нормальной работы платы необходимо
	напряжение от 2 до 3.6 вольт. Это стандарт. Но для совместимости плат STM32 с другими устройствами
	предусмотрена возможность питания и от 5 вольт. 




















Рассмотрение opencm3 ……...
https://github.com/libopencm3/libopencm3-template.git



